<html>
    <head>
		<link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro&display=swap" rel="stylesheet">
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" crossorigin="anonymous">
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" crossorigin="anonymous">
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css">
		<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,600,300,700" type="text/css">
		
		<link rel="stylesheet" href="https://unpkg.com/purecss@1.0.1/build/pure-min.css" crossorigin="anonymous">
		<link href="../css/ArmyBuilder.css" rel="stylesheet" type="text/css">
		<title>Army Builder Tools</title>
		
		<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1.5,user-scalable=yes">
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
		<meta name="HandheldFriendly" content="true">
	</head>
    
	<body  class="transparent" ng-app="armyBuilder" ng-controller="builderCtrl">
		<div class="col-md-12">
			<div class="col-md-3"></div>
			<div class="col-md-6 centeredParent">
				<h1 class="centered">Army Builder Tools</h1>
			</div>
			<div class="col-md-3"></div>
		</div>

<div class="col-md-12">
	<div class="col-md-6">
	<div class="banner">
	<div>
		<div class="block">
			<label class="title-label">Game:</label class="title-label">
			<json-picker new-model="factionModel" type="string" output="game" existing-data="games"></json-picker>
		</div>
		{{game}}

		<div class="block">
			<label class="title-label">Faction:</label class="title-label">
			<json-picker new-model="factionModel" type="string" output="faction" existing-data="selectedGame.Factions"></json-picker>
		</div>

		<div class="block">
			<label class="title-label">Name:</label class="title-label">
			<input ng-model="myUnit.Name"></input>
		</div>

		<div class="block">		
			<label class="title-label">Number of Models:</label>
			<input type="number" ng-model="myUnit.NumberOfModels"></input>
		</div>

		<div class="block">		
			<label class="title-label">Cost:</label class="title-label">
			<input type="number" ng-model="myUnit.Cost"></input>
		</div>

		<div class="block">		
			<label class="title-label">Abilities:</label class="title-label">
			<json-picker new-model="abilityModel" type="array" output="myUnit.Abilities" existing-data="abilities"></json-picker>
		</div>

		<div class="block">	
			<label class="title-label">AddOns:</label class="title-label">
				<json-picker new-model="addOnModel" type="array" output="myUnit.AddOns" existing-data="addons" options="addOnOptions"></json-picker>
		</div>
				
		<div class="block">	
			<label class="title-label">Gear</label class="title-label">
			<json-picker new-model="gearModel" type="array" output="myUnit.Gear" existing-data="gear"></json-picker>
		</div>
				
		<div class="block">	
			<label class="title-label">Powers (known):</label class="title-label">
			<json-picker new-model="powerModel" type="array" output="myUnit.Powers.Known" existing-data="powers"></json-picker>
		</div>

		<div class="block">		
			<label class="title-label">Powers (options (amount)):</label class="title-label">
			<input ng-model="myUnit.Powers.Options.Amount"></input>
		</div>

		<div class="block">	
			<label class="title-label">Powers (options):</label class="title-label">
			<json-picker new-model="powerModel" type="array" output="myUnit.Powers.Options.From" existing-data="powers"></json-picker>
		</div>
	</div>

	<br>
	<button class="bottomButton" ng-click="postResults()">Add new Model</button>
	</div>
</div>
	<div class="col-md-6" id="column-two">
		<div name="add-game" class="banner">
		<!-- Game -->
			<div>
				<span>Add new game</Span><br>
				<label class="title-label">Name</label>
				<input type="text" ng-model="newGameName"></input>
				<button ng-click="addNewGame(newGameName)">Add</button>
			</div>
			<div>
				<span>Existing games:</span>
				<ul>
					<li ng-repeat="game in allGamesV2">{{game.name}}</li>
				</ul>
			</div>
		</div>
		<!-- Faction -->
		<div name="add-faction" class="banner">
			<div>
				<span>Add new faction</Span><br>
				<label class="title-label">Select a game</label>
				<select
					ng-model="selectedGameIdForAddFaction"
					ng-change="updateFactionsForGameAsync(selectedGameIdForAddFaction)"
					ng-options="game.id as game.name for game in allGamesV2"
				>
				</select>
				<br>
				<label class="title-label">Name</label>
				<input type="text" ng-model="newFactionName"></input>
				<br>
				<button ng-click="addNewFaction(selectedGameIdForAddFaction, newFactionName)">Add</button>
			</div>
			<div>
				<span>Existing factions:</span>
				<ul>
					<li ng-repeat="faction in factionsForCurrentGameInAddFactions">{{faction.name}}</li>
				</ul>
			</div>
		</div>
		<!-- Gear -->
		<div name="add-gear" ng-init="showGear=false" class="banner">
			<span>Add new gear</Span><br>
			<button ng-click="showGear = !showGear">{{showGear ? "hide" : "show"}}</button>
			<div ng-show="showGear">
				<div>
					<label class="title-label">Name</label>
					<input type="text" ng-model="newGearName"></input>
					<br>
					<label class="title-label">Cost</label>
					<input type="number" ng-model="newGearCost"></input>
					<br>
					<label class="title-label">Type</label>
					<select
						ng-model="selectedGearRange"
						ng-options="range.id as range.rangeType for range in allGearRanges"
						>
					</select>
					<button ng-click="addNewGear(newGearName, newGearCost, selectedGearRange)">Add</button>
				</div>
				<div>
					<span>Existing gear:</span>
					<ul>
						<li ng-repeat="gear in allGearV2">{{gear.name}}</li>
					</ul>
				</div>
			</div>
		</div>
		<!-- Abilities -->
		<div name="add-abilities" ng-init="showAbilities=false" class="banner">
			<span>Add new ability</Span><br>
			<button ng-click="showAbilities = !showAbilities">{{showAbilities ? "hide" : "show"}}</button>
			<div ng-show="showAbilities">
				<div>
					<label class="title-label">Name</label>
					<input type="text" ng-model="newAbilityName"></input>
					<br>
					<label class="title-label">Text</label>
					<textarea type="text" ng-model="newAbilityText"></textarea>
					<br>
					<button ng-click="addNewAbility(newAbilityName, newAbilityText)">Add</button>
				</div>
				<div>
					<span>Existing abilities:</span>
					<ul>
						<li ng-repeat="ability in allAbilitiesV2">{{ability.name}}</li>
					</ul>
				</div>
			</div>
		</div>
	</div>
</div> 
		<!--Load JS files-->
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
		<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.4/angular.js"></script>
		<script src="js/dataBuilder.js"></script>
		<script src="//cdnjs.cloudflare.com/ajax/libs/angular-filter/0.5.15/angular-filter.min.js"></script>
	</body>
</html>